# PubSub - сервис подписок
## Описание
Сервер работает по gRPC и функционирует поверх шины событий, которая разработана по принципу Publisher-Subscriber. Шина событий реализована в отдельном пакете pubsub. Существуют subjects, на которые можно подписаться, и когда subject публикует сообщение, подписчик получает это сообщение. Реализация шины событий соответствует требованиям:

 - subject характеризуется ключом
 - на один subject могут подписываться и отписываться несколько подписчиков
 - каждый подписчик не тормозит друг друга
 - соблюдается порядок сообщений
 - написаны unit-тесты 
 Для запуска тестов:
 ```bash
cd server/pubsub
go test
```

## Настройка и запуск
**Сервер**
Сервер характеризуется конфигурационным файлом `conf.yaml`, пока что он состоит только из порта. Для запуска сервера ye;yj перейти в директорию `server` и вызвать:
```bash
cd server
go run ./cmd
```

**Клиент**
Для запуска клиента нужно перейти в директорию `client` и вызвать: 
```bash
cd client
go run ./ localhost:port
```
В качестве параметров передается адрес, на котором работает сервер.
Для подписки и публикации нужно написать в консоли команды.
Подписка на subject по ключу key:
```bash
sub key
```
Публикация сообщения msg на ключе:
```bash
pub key msg
```